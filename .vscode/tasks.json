{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Build All",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "build",
        "--no-restore",
        "-p:AndroidSdkDirectory=${config:ANDROID_SDK_ROOT}",
        "-p:JavaSdkDirectory=${config:JAVA_HOME}"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always"
      },
      "dependsOn": "Clean"
    },
    {
      "label": "Build DesktopGL",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "build",
        "${workspaceFolder}/DesktopGL/DesktopGL.csproj",
        "--no-restore"
      ],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "Build Android",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "build",
        "${workspaceFolder}/Android/Android.csproj",
        "--no-restore",
        "-p:AndroidSdkDirectory=${config:ANDROID_SDK_ROOT}",
        "-p:JavaSdkDirectory=${config:JAVA_HOME}"
      ],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "Publish Android",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "publish",
        "-c",
        "Release",
        "-r",
        "android-x64",
        "--self-contained",
        "-p:AndroidSdkDirectory=${config:ANDROID_SDK_ROOT}",
        "-p:JavaSdkDirectory=${config:JAVA_HOME}",        
        "-p:ApplicationVersion=5",
        "-p:ApplicationDisplayVersion=1.2.3",
        "${workspaceFolder}/Android/Android.csproj"
      ],
      "problemMatcher": "$msCompile",
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always"
      },
      "dependsOn": "Clean"
    },
    {
      "label": "Publish Windows",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "publish",
        "-c",
        "Release",
        "-r",
        "win-x64",
        "/p:PublishReadyToRun=false",
        "/p:TieredCompilation=false",
        "--self-contained",
        "${workspaceFolder}/DesktopGL/DesktopGL.csproj"
      ],
      "problemMatcher": "$msCompile"
    },
    {
      "label": "Publish Linux",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "publish",
        "-c",
        "Release",
        "-r",
        "linux-x64",
        "/p:PublishReadyToRun=false",
        "/p:TieredCompilation=false",
        "--self-contained",
        "${workspaceFolder}/DesktopGL/DesktopGL.csproj"
      ],
      "problemMatcher": "$msCompile"
    },
    {
      "label": "Publish MacOS",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "publish",
        "-c",
        "Release",
        "-r",
        "osx-x64",
        "/p:PublishReadyToRun=false",
        "/p:TieredCompilation=false",
        "--self-contained",
        "${workspaceFolder}/DesktopGL/DesktopGL.csproj"
      ],
      "problemMatcher": "$msCompile"
    },
    {
      "label": "Sign Jar",
      "type": "shell",
      "command": "jarsigner",
      "args": [
        "-verbose",
        "-sigalg",
        "SHA256withRSA",
        "-digestalg",
        "SHA-256",
        "-keystore",
        ".\\theoldladies-release.keystore",
        "-signedjar",
        ".\\Android\\bin\\Release\\net6.0-android\\android-x64\\theoldladies.aab",
        ".\\Android\\bin\\Release\\net6.0-android\\android-x64\\Android.Android.aab",
        "theoldladies"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label":"Clean",
      "type":"shell",
      "command":"dotnet",
      "args":[
        "clean"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always"
      }
    }
  ]
}